import{r as g}from"./index.DiEladB3.js";const $="modulepreload",P=function(t){return"/evalla/"+t},w={},A=function(n,o,d){let i=Promise.resolve();if(o&&o.length>0){let c=function(x){return Promise.all(x.map(u=>Promise.resolve(u).then(b=>({status:"fulfilled",value:b}),b=>({status:"rejected",reason:b}))))};document.getElementsByTagName("link");const l=document.querySelector("meta[property=csp-nonce]"),h=l?.nonce||l?.getAttribute("nonce");i=c(o.map(x=>{if(x=P(x),x in w)return;w[x]=!0;const u=x.endsWith(".css"),b=u?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${x}"]${b}`))return;const p=document.createElement("link");if(p.rel=u?"stylesheet":$,u||(p.as="script"),p.crossOrigin="",p.href=x,h&&p.setAttribute("nonce",h),document.head.appendChild(p),u)return new Promise((y,r)=>{p.addEventListener("load",y),p.addEventListener("error",()=>r(new Error(`Unable to preload CSS for ${x}`)))})}))}function a(c){const l=new Event("vite:preloadError",{cancelable:!0});if(l.payload=c,window.dispatchEvent(l),!l.defaultPrevented)throw c}return i.then(c=>{for(const l of c||[])l.status==="rejected"&&a(l.reason);return n().catch(a)})};var v={exports:{}},j={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var E;function T(){if(E)return j;E=1;var t=Symbol.for("react.transitional.element"),n=Symbol.for("react.fragment");function o(d,i,a){var c=null;if(a!==void 0&&(c=""+a),i.key!==void 0&&(c=""+i.key),"key"in i){a={};for(var l in i)l!=="key"&&(a[l]=i[l])}else a=i;return i=a.ref,{$$typeof:t,type:d,key:c,ref:i!==void 0?i:null,props:a}}return j.Fragment=n,j.jsx=o,j.jsxs=o,j}var C;function S(){return C||(C=1,v.exports=T()),v.exports}var e=S();/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _=(...t)=>t.filter((n,o,d)=>!!n&&n.trim()!==""&&d.indexOf(n)===o).join(" ").trim();/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const M=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase();/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const L=t=>t.replace(/^([A-Z])|[\s-_]+(\w)/g,(n,o,d)=>d?d.toUpperCase():o.toLowerCase());/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const k=t=>{const n=L(t);return n.charAt(0).toUpperCase()+n.slice(1)};/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var I={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const q=t=>{for(const n in t)if(n.startsWith("aria-")||n==="role"||n==="title")return!0;return!1};/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const U=g.forwardRef(({color:t="currentColor",size:n=24,strokeWidth:o=2,absoluteStrokeWidth:d,className:i="",children:a,iconNode:c,...l},h)=>g.createElement("svg",{ref:h,...I,width:n,height:n,stroke:t,strokeWidth:d?Number(o)*24/Number(n):o,className:_("lucide",i),...!a&&!q(l)&&{"aria-hidden":"true"},...l},[...c.map(([x,u])=>g.createElement(x,u)),...Array.isArray(a)?a:[a]]));/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const N=(t,n)=>{const o=g.forwardRef(({className:d,...i},a)=>g.createElement(U,{ref:a,iconNode:n,className:_(`lucide-${M(k(t))}`,`lucide-${t}`,d),...i}));return o.displayName=k(t),o};/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const O=[["path",{d:"M5 5a2 2 0 0 1 3.008-1.728l11.997 6.998a2 2 0 0 1 .003 3.458l-12 7A2 2 0 0 1 5 19z",key:"10ikf1"}]],V=N("play",O);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const J=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],z=N("plus",J);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const B=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],R=N("trash-2",B);function F(){const[t,n]=g.useState([{name:"a",expr:"10"},{name:"b",expr:"a * 2"},{name:"c",expr:"a + b"}]),[o,d]=g.useState(null),[i,a]=g.useState(null),[c,l]=g.useState(null),h=(r,s,m)=>{const f=[...t];f[r][s]=m,n(f)},x=()=>{n([...t,{name:"",expr:""}])},u=r=>{n(t.filter((s,m)=>m!==r))},b={circle:{name:"Circle calculations",expressions:[{name:"radius",expr:"5"},{name:"pi",expr:"$math.PI"},{name:"circumference",expr:"2 * pi * radius"},{name:"area",expr:"pi * radius * radius"}]},objects:{name:"Object properties",expressions:[{name:"point",expr:"{x: 10, y: 20}"},{name:"scaledX",expr:"point.x * 2"},{name:"scaledY",expr:"point.y * 2"}]},precision:{name:"Decimal precision",expressions:[{name:"a",expr:"0.1"},{name:"b",expr:"0.2"},{name:"sum",expr:"a + b"}]},trig:{name:"Trigonometry",expressions:[{name:"degrees",expr:"45"},{name:"radians",expr:"$angle.toRad(degrees)"},{name:"sine",expr:"$math.sin(radians)"},{name:"cosine",expr:"$math.cos(radians)"}]}},p=r=>{const s=b[r];s&&(n(s.expressions),d(null),a(null),l(null))},y=async()=>{a(null),l(null);try{const{evalla:r}=await A(async()=>{const{evalla:f}=await import("./index.Cd4RluUo.js");return{evalla:f}},[]),s=t.filter(f=>f.name.trim()&&f.expr.trim());if(s.length===0){a("Please add at least one expression");return}const m=await r(s);d(m)}catch(r){if(a(r.message),d(null),r.variableName){const s=t.findIndex(m=>m.name===r.variableName);s!==-1&&l(s)}}};return e.jsxs("div",{className:"content",children:[e.jsxs("div",{className:"mb-6",children:[e.jsx("h2",{style:{marginTop:"2rem"},children:"Playground"}),e.jsx("p",{className:"text-gray-600 text-sm sm:text-base mb-4",children:"Define variables with math expressions. They can reference each other and will be evaluated in the correct order automatically."}),e.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[e.jsx("span",{className:"text-sm font-medium text-gray-600",children:"Examples"}),e.jsxs("select",{onChange:r=>r.target.value&&p(r.target.value),defaultValue:"",className:"px-3 py-2 text-sm border border-gray-300 rounded bg-white focus:outline-none focus:ring-2 focus:ring-blue-500",children:[e.jsx("option",{value:"",disabled:!0,children:"Choose an example"}),Object.entries(b).map(([r,{name:s}])=>e.jsx("option",{value:r,children:s},r))]})]}),e.jsxs("div",{className:"bg-gray-50 rounded-lg p-3 sm:p-4 mb-4",children:[e.jsxs("div",{className:"hidden sm:grid sm:grid-cols-[150px_1fr_auto] gap-2 mb-2 text-sm font-medium text-gray-600",children:[e.jsx("div",{children:"Name"}),e.jsx("div",{children:"Expression"}),e.jsx("div",{className:"w-[90px]"})]}),e.jsx("div",{className:"space-y-4 sm:space-y-2",children:t.map((r,s)=>e.jsxs("div",{className:`${c===s?"bg-red-50 -mx-2 px-2 py-1 rounded":""}`,children:[e.jsxs("div",{className:"hidden sm:grid sm:grid-cols-[150px_1fr_auto] gap-2 items-center",children:[e.jsx("input",{type:"text",placeholder:"e.g. radius",value:r.name,onChange:m=>h(s,"name",m.target.value),className:`px-3 py-2 text-sm border rounded font-mono focus:outline-none focus:ring-2 focus:ring-blue-500 ${c===s?"border-red-300 bg-white":"border-gray-300 bg-white"}`}),e.jsx("input",{type:"text",placeholder:"e.g. a + b",value:r.expr,onChange:m=>h(s,"expr",m.target.value),className:`px-3 py-2 text-sm border rounded font-mono focus:outline-none focus:ring-2 focus:ring-blue-500 ${c===s?"border-red-300 bg-white":"border-gray-300 bg-white"}`}),e.jsxs("button",{onClick:()=>u(s),className:"px-3 py-2 bg-gray-500 hover:bg-gray-600 text-white text-sm rounded transition-colors flex items-center gap-1.5 justify-center",children:[e.jsx(R,{size:16}),e.jsx("span",{children:"Remove"})]})]}),e.jsxs("div",{className:"sm:hidden flex gap-2",children:[e.jsxs("div",{className:"flex-1 space-y-1",children:[e.jsxs("div",{className:"flex gap-2 items-center",children:[e.jsx("label",{className:"text-xs font-medium text-gray-600 w-12",children:"Name"}),e.jsx("input",{type:"text",placeholder:"e.g. radius",value:r.name,onChange:m=>h(s,"name",m.target.value),className:`flex-1 px-3 py-2 text-sm border rounded font-mono focus:outline-none focus:ring-2 focus:ring-blue-500 ${c===s?"border-red-300 bg-white":"border-gray-300 bg-white"}`})]}),e.jsxs("div",{className:"flex gap-2 items-center",children:[e.jsx("label",{className:"text-xs font-medium text-gray-600 w-12",children:"Expr"}),e.jsx("input",{type:"text",placeholder:"e.g. a + b",value:r.expr,onChange:m=>h(s,"expr",m.target.value),className:`flex-1 px-3 py-2 text-sm border rounded font-mono focus:outline-none focus:ring-2 focus:ring-blue-500 ${c===s?"border-red-300 bg-white":"border-gray-300 bg-white"}`})]})]}),e.jsx("button",{onClick:()=>u(s),className:"p-2 bg-gray-500 hover:bg-gray-600 text-white rounded transition-colors self-center",children:e.jsx(R,{size:16})})]})]},s))}),e.jsxs("button",{onClick:x,className:"mt-3 px-4 py-2 bg-gray-600 hover:bg-gray-700 text-white text-sm rounded font-semibold transition-colors flex items-center gap-1.5",children:[e.jsx(z,{size:18}),e.jsx("span",{children:"Add"})]})]})]}),i&&e.jsx("div",{className:"bg-red-50 border-l-4 border-red-500 p-4 mb-6 rounded",children:e.jsx("p",{className:"text-red-700 font-mono text-sm",children:i})}),e.jsx("div",{className:"mb-6",children:e.jsxs("div",{className:"bg-green-50 rounded-lg p-4",children:[e.jsx("h3",{className:"text-xl sm:text-2xl font-semibold text-gray-800 mb-3",children:"Results"}),e.jsxs("div",{className:"flex gap-2 mb-4",children:[e.jsxs("button",{onClick:y,className:"px-4 py-2 bg-blue-600 hover:bg-blue-700 text-white text-sm rounded font-semibold transition-colors flex items-center gap-1.5",children:[e.jsx(V,{size:18}),e.jsx("span",{children:"Evaluate"})]}),o&&e.jsx("button",{onClick:()=>d(null),className:"px-4 py-2 bg-gray-600 hover:bg-gray-700 text-white text-sm rounded font-semibold transition-colors",children:"Reset"})]}),o?e.jsxs(e.Fragment,{children:[e.jsxs("table",{className:"w-full text-sm",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"border-b border-green-200",children:[e.jsx("th",{className:"text-left py-2 font-medium text-gray-600",children:"Name"}),e.jsx("th",{className:"text-left py-2 font-medium text-gray-600",children:"Value"})]})}),e.jsx("tbody",{children:Object.entries(o.values).map(([r,s])=>e.jsxs("tr",{children:[e.jsx("td",{className:"py-2 px-2 font-mono text-gray-700",children:r}),e.jsx("td",{className:"py-2 px-2 font-mono text-green-700 font-semibold break-all",children:s.toString()})]},r))})]}),e.jsxs("div",{className:"mt-4 text-gray-600 text-xs sm:text-sm italic",children:["Evaluation order: ",o.order.join(" → ")]})]}):e.jsx("p",{className:"text-gray-500 text-sm italic",children:"Click Evaluate to see results"})]})}),e.jsxs("div",{className:"bg-blue-50 border-l-4 border-blue-600 rounded-lg p-4 sm:p-6",children:[e.jsx("h3",{className:"text-lg sm:text-xl font-semibold text-blue-900 mb-3",children:"Quick Tips"}),e.jsxs("ul",{className:"space-y-1.5 text-gray-700 text-sm sm:text-base",children:[e.jsxs("li",{children:["• Variables can reference other variables (e.g., ",e.jsx("code",{className:"bg-blue-100 px-1.5 py-0.5 rounded text-xs sm:text-sm",children:"b = a * 2"}),")"]}),e.jsxs("li",{children:["• Use decimal precision math (e.g., ",e.jsx("code",{className:"bg-blue-100 px-1.5 py-0.5 rounded text-xs sm:text-sm",children:"0.1 + 0.2"})," = 0.3 exactly!)"]}),e.jsxs("li",{children:["• Access nested properties with dots (e.g., ",e.jsx("code",{className:"bg-blue-100 px-1.5 py-0.5 rounded text-xs sm:text-sm",children:"point.x"}),")"]}),e.jsxs("li",{children:["• Use ",e.jsx("code",{className:"bg-blue-100 px-1.5 py-0.5 rounded text-xs sm:text-sm",children:"$math"})," functions: ",e.jsx("code",{className:"bg-blue-100 px-1.5 py-0.5 rounded text-xs sm:text-sm",children:"$math.sqrt(16)"}),", ",e.jsx("code",{className:"bg-blue-100 px-1.5 py-0.5 rounded text-xs sm:text-sm",children:"$math.PI"}),", etc."]}),e.jsxs("li",{children:["• Convert units: ",e.jsx("code",{className:"bg-blue-100 px-1.5 py-0.5 rounded text-xs sm:text-sm",children:"$unit.mmToInch(25.4)"})]}),e.jsxs("li",{children:["• Convert angles: ",e.jsx("code",{className:"bg-blue-100 px-1.5 py-0.5 rounded text-xs sm:text-sm",children:"$angle.toRad(180)"})]})]})]})]})}export{F as default};
